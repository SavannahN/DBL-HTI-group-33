<html>

<head>

  <script src="https://cdn.bokeh.org/bokeh/release/bokeh-2.0.2.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.0.2.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.0.2.min.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <title>Eye Movement Visualization Tool</title>
</head>

<body>
  <div class="container">
    <header style="margin: 0 0 20px 0; background-color: #a6ffbe; border-radius: 10px">
      <h1 align="center">Eye Movement Visualization Tool</h1>
      <div class="links" align="center">
        <a href="{{url_for('help')}}">Help</a>
      </div>
    </header>
    <div style="display: flex;">
      <div class="column" style="display: flex; float:left; width: 35%; background-color: #fff6b5; border-radius: 8px; padding: 10px;
      align-items: center;">
        <form action="" method="post" style="display: initial">
          <p>Click<a href="{{url_for('upload')}}"> here </a> to upload data instead.</p>
          <br>
          <label>Map</label>
          <div class="input-field col s12 m4" style="display: flex">
            <select class="browser-default" name="MapID">

              {% if session %}
              {% for Item in LISTS[1] %}
              {% if Item ==  session["MapID"]%}
              <option value="{{Item}}" selected>{{Item}}</option>"
              {% else %}
              <option value="{{Item}}">{{Item}}</option>"
              {% endif %}
              {% endfor %}

              {% else %}
              <option value="" disabled selected>Choose your option</option>
              {% for Item in LISTS[1] %}
              <option value="{{Item}}">{{Item}}</option>"
              {% endfor %}
              {% endif %}
            </select>
          </div>

          <label>User</label>
          <div class="input-field col s12 m4">
            <select class="browser-default" name="UserID">

              {% if session %}
              {% for Item in LISTS[0] %}
              {% if Item ==  session["UserID"]%}
              <option value="{{Item}}" selected>{{Item}}</option>"
              {% else %}
              <option value="{{Item}}">{{Item}}</option>"
              {% endif %}
              {% endfor %}

              {% else %}
              <option value="" disabled selected>Choose your option</option>
              {% for Item in LISTS[0] %}
              <option value="{{Item}}">{{Item}}</option>"
              {% endfor %}
              {% endif %}
            </select>
          </div>

          <label>Visualization</label>
          <div class="input-field col s12 m4">
            <select class="browser-default" name="VisID">
              {% if session %}
              {% for Item in LISTS[2] %}
              {% if Item ==  session["VisID"]%}
              <option value="{{Item}}" selected>{{Item}}</option>"
              {% else %}
              <option value="{{Item}}">{{Item}}</option>"
              {% endif %}
              {% endfor %}

              {% else %}
              <option value="" disabled selected>Choose your option</option>
              {% for Item in LISTS[2] %}
              <option value="{{Item}}">{{Item}}</option>"
              {% endfor %}
              {% endif %}
            </select>
          </div>

          <label>Number of AOIs</label>
		      <div class="input-field col s12 m4">
			      <input type="range" name="AOInum" min="3" max="20" onchange="updateTextInput(this.value);">
		      </div>

          <input type="submit" value="submit" />
      </div>
      </form>
      <div id="right" class="column" style="background-color: lightblue; border-radius: 8px; display: flex; float: right; width: 65%; text-align:center; justify-content: center;
      align-items: center;">

        {% if Graph %}
        {{ Graph[0] | safe }} {{ Graph[1] | safe  }}
        {% else %}
        {{text}}
        {% endif %}
        <p id="output" style="display:inline-block"></p>
      </div>
    </div>
  </div>
  <script>
    // document.addEventListener('DOMContentLoaded', function() {
    //   var elems = document.querySelectorAll('select');
    //   var instances = M.FormSelect.init(elems, options);
    // });
    function display() {
      document.getElementById("submit-1").style.display = "initial"
      document.getElementById("submit-2").style.display = "initial"
      document.getElementById("submit-3").style.display = "initial"
      document.getElementById("submit-4").style.display = "initial"
    }

    function hide() {
      document.getElementById("submit-1").style.display = "none"
      document.getElementById("submit-2").style.display = "none"
      document.getElementById("submit-3").style.display = "none"
      document.getElementById("submit-4").style.display = "none"
    }

    function updateTextInput(val) {
          document.getElementById('textInput').value=val;
    }
  </script>
</body>

</html>
